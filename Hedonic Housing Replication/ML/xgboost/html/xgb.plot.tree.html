<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Plot a boosted tree model</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xgb.plot.tree {xgboost}"><tr><td>xgb.plot.tree {xgboost}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Plot a boosted tree model</h2>

<h3>Description</h3>

<p>Read a tree model text dump and plot the model.
</p>


<h3>Usage</h3>

<pre>
xgb.plot.tree(feature_names = NULL, model = NULL, n_first_tree = NULL,
  plot_width = NULL, plot_height = NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>feature_names</code></td>
<td>
<p>names of each feature as a <code>character</code> vector. Can be extracted from a sparse matrix (see example). If model dump already contains feature names, this argument should be <code>NULL</code>.</p>
</td></tr>
<tr valign="top"><td><code>model</code></td>
<td>
<p>generated by the <code>xgb.train</code> function. Avoid the creation of a dump file.</p>
</td></tr>
<tr valign="top"><td><code>n_first_tree</code></td>
<td>
<p>limit the plot to the n first trees. If <code>NULL</code>, all trees of the model are plotted. Performance can be low for huge models.</p>
</td></tr>
<tr valign="top"><td><code>plot_width</code></td>
<td>
<p>the width of the diagram in pixels.</p>
</td></tr>
<tr valign="top"><td><code>plot_height</code></td>
<td>
<p>the height of the diagram in pixels.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The content of each node is organised that way:
</p>

<ul>
<li> <p><code>feature</code> value;
</p>
</li>
<li> <p><code>cover</code>: the sum of second order gradient of training data classified to the leaf, if it is square loss, this simply corresponds to the number of instances in that branch. Deeper in the tree a node is, lower this metric will be;
</p>
</li>
<li> <p><code>gain</code>: metric the importance of the node in the model.
</p>
</li></ul>
 
<p>The function uses <a href="http://www.graphviz.org/">GraphViz</a> library for that purpose.
</p>


<h3>Value</h3>

<p>A <code>DiagrammeR</code> of the model.
</p>


<h3>Examples</h3>

<pre>
data(agaricus.train, package='xgboost')

bst &lt;- xgboost(data = agaricus.train$data, label = agaricus.train$label, max_depth = 2, 
               eta = 1, nthread = 2, nrounds = 2,objective = "binary:logistic")

xgb.plot.tree(feature_names = colnames(agaricus.train$data), model = bst)

</pre>

<hr /><div style="text-align: center;">[Package <em>xgboost</em> version 0.6.4.1 <a href="00Index.html">Index</a>]</div>
</body></html>
